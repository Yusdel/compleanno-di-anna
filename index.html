<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé≠ Fisco in Pausa, Costume On üéâ</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&family=Titan+One&display=swap" rel="stylesheet">
    <style>
        :root {
            --pink: #ff2e9b;
            --yellow: #ffd93d;
            --purple: #6c2bd9;
            --dark: #0f0f1a;
            --bg-primary: #0f0f1a;
            --bg-secondary: #1a1a2e;
            --bg-tertiary: #2d1b4e;
            --mud: #8b5e3c;
            --dino-yellow: #f5d800;
            --accent-gold: #ffd93d;
            --accent-crimson: #ff2e9b;
            --accent-purple: #6c2bd9;
            --text-light: #fff8e7;
            --card-bg: rgba(255, 255, 255, 0.08);
            --pink-glow: rgba(255, 46, 155, 0.45);
            --yellow-glow: rgba(255, 217, 61, 0.5);
            --purple-glow: rgba(108, 43, 217, 0.45);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Fredoka', sans-serif;
            background: linear-gradient(160deg, var(--dark) 0%, var(--bg-secondary) 35%, var(--bg-tertiary) 70%, #251a3d 100%);
            min-height: 100vh;
            overflow-x: hidden;
            color: var(--text-light);
        }

        .dress-alert {
            margin-top:15px;
            padding:12px 20px;
            background: rgba(255,46,155,0.1);
            border-left: 5px solid var(--pink);
            border-radius:12px;
            font-weight:600;
            font-size:1rem;
            color:var(--pink);
            text-align:left;
            animation: pulse 2s ease-in-out infinite alternate;
        }

        @keyframes pulse {
            0% { background: rgba(255,46,155,0.05); }
            100% { background: rgba(255,46,155,0.15); }
        }

        .race-title {
            font-family: 'Titan One', cursive;
            font-size: clamp(1.4rem, 4vw, 2rem);
            color: var(--dino-yellow);
            margin-bottom: 10px;
            text-shadow: 2px 2px 0 rgba(0,0,0,0.3);
        }

        /* Falling emojis container */
        .falling-emojis {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        .emoji-drop {
            position: absolute;
            font-size: 2rem;
            animation: fall linear infinite;
            opacity: 0.8;
        }

        @keyframes fall {
            0% {
                transform: translateY(-50px) rotate(0deg);
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
            }
        }

        @keyframes dino-bounce {
            0%, 100% { transform: translateY(0) rotate(-1deg); }
            50% { transform: translateY(-12px) rotate(1deg); }
        }

        /* Header */
        header {
            position: relative;
            z-index: 10;
            text-align: center;
            padding: 4rem 2rem 3rem;
        }

        h1 {
            font-family: 'Titan One', cursive;
            font-size: 4rem;
            color: var(--pink);
            text-shadow:
                0 1px 0 rgba(255,255,255,0.25),
                0 2px 0 #ff4da6,
                0 3px 0 #e91e8f,
                0 4px 0 #c2187a,
                0 5px 0 #a01362,
                0 6px 0 #8e1456,
                0 7px 0 #751140,
                0 8px 0 #6d1042,
                0 9px 0 #5a0d36,
                0 10px 0 #4a0b2d,
                0 11px 0 #3d0925,
                0 12px 0 #2d061b,
                0 13px 0 rgba(0,0,0,0.6),
                0 14px 0 rgba(0,0,0,0.5),
                0 15px 0 rgba(0,0,0,0.45),
                0 16px 0 rgba(0,0,0,0.4),
                0 18px 15px rgba(0,0,0,0.45),
                0 22px 25px rgba(0,0,0,0.5),
                0 28px 35px rgba(0,0,0,0.55),
                0 0 50px var(--pink-glow);
            animation: float 3s ease-in-out infinite;
        }

        .title-accent {
            color: var(--yellow);
            text-shadow: 0 0 20px var(--yellow-glow);
        }

        .title-crimson {
            color: var(--pink);
            text-shadow: 0 0 20px var(--pink-glow);
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.95; transform: scale(1.02); }
        }

        /* Cards section */
        .cards-section {
            position: relative;
            z-index: 10;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1.5rem;
            padding: 2rem;
            max-width: 1000px;
            margin: 0 auto;
        }

        .card {
            background: linear-gradient(145deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.05) 100%);
            backdrop-filter: blur(12px);
            border: 2px solid rgba(255, 217, 61, 0.4);
            border-radius: 20px;
            padding: 2rem;
            min-width: 250px;
            flex: 1 1 250px;
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
            animation: fadeInUp 0.6s ease forwards;
            box-shadow: 0 8px 32px rgba(0,0,0,0.25), inset 0 1px 0 rgba(255,255,255,0.12);
        }

        .card:hover {
            transform: translateY(-6px);
            border-color: var(--yellow);
            box-shadow: 0 16px 48px var(--yellow-glow), inset 0 1px 0 rgba(255,255,255,0.15);
        }

        .card:nth-child(1) { animation-delay: 0.1s; }
        .card:nth-child(2) { animation-delay: 0.2s; }
        .card:nth-child(3) { animation-delay: 0.3s; }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .card-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .card h3 {
            color: var(--yellow);
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            text-shadow: 0 0 12px var(--yellow-glow);
        }

        .card p {
            font-size: 1rem;
            line-height: 1.5;
        }

        .money-btn {
            aspect-ratio: 1;
            font-size: 2.5rem;
            border: none;
            border-radius: 12px;
            background: linear-gradient(145deg, var(--yellow) 0%, #ffb347 100%);
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            user-select: none;
            box-shadow: 0 4px 16px var(--yellow-glow), inset 0 1px 0 rgba(255,255,255,0.3);
        }

        .money-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 24px var(--yellow-glow), inset 0 1px 0 rgba(255,255,255,0.4);
        }

        .money-btn:active {
            transform: scale(0.95);
        }

        .money-btn.hidden {
            opacity: 0;
            pointer-events: none;
            transform: scale(0.5);
            transition: all 0.2s ease;
        }

        /* Fanta-Sanremo section */
        .fanta-sanremo-section {
            position: relative;
            z-index: 10;
            padding: 3rem 2rem;
            text-align: center;
        }

        .fanta-container {
            background: linear-gradient(145deg, rgba(108,43,217,0.15) 0%, rgba(255,255,255,0.06) 100%);
            backdrop-filter: blur(12px);
            border: 2px solid rgba(108, 43, 217, 0.5);
            border-radius: 24px;
            padding: 2rem;
            max-width: 450px;
            margin: 0 auto;
            box-shadow: 0 8px 32px var(--purple-glow), inset 0 1px 0 rgba(255,255,255,0.08);
        }

        .fanta-title {
            color: var(--yellow);
            font-size: 1.6rem;
            margin-bottom: 1.5rem;
            text-shadow: 0 0 15px var(--yellow-glow);
        }

        .fanta-form input {
            display: block;
            width: 100%;
            padding: 0.9rem 1.2rem;
            margin-bottom: 1rem;
            font-family: 'Fredoka', sans-serif;
            font-size: 1rem;
            border: 2px solid rgba(255, 217, 61, 0.5);
            border-radius: 16px;
            background: rgba(255, 255, 255, 0.96);
            color: var(--dark);
            outline: none;
            transition: box-shadow 0.3s ease, border-color 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .fanta-form input:focus {
            border-color: var(--purple);
            box-shadow: 0 0 24px var(--purple-glow), 0 2px 8px rgba(0,0,0,0.1);
        }

        .fanta-form input::placeholder {
            color: rgba(15, 15, 26, 0.5);
        }

        .fanta-vota-btn {
            width: 100%;
            padding: 1rem 2rem;
            font-family: 'Fredoka', sans-serif;
            font-size: 1.2rem;
            font-weight: 600;
            background: linear-gradient(135deg, var(--purple) 0%, #5521b8 100%);
            color: white;
            border: none;
            border-radius: 16px;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            margin-top: 0.5rem;
            box-shadow: 0 4px 20px var(--purple-glow), inset 0 1px 0 rgba(255,255,255,0.2);
        }

        .fanta-vota-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 32px var(--purple-glow), inset 0 1px 0 rgba(255,255,255,0.25);
        }

        .fanta-vota-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .fanta-message {
            margin-top: 1rem;
            font-size: 1rem;
            border-radius: 12px;
            padding: 0.8rem;
        }

        .fanta-message.success {
            background: rgba(46, 204, 113, 0.3);
            color: #2ecc71;
        }

        .fanta-message.error {
            background: rgba(231, 76, 60, 0.3);
            color: #e74c3c;
        }

        .fanta-classifica {
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 2px dashed rgba(108, 43, 217, 0.5);
        }

        .fanta-classifica h3 {
            color: var(--yellow);
            font-size: 1.2rem;
            margin-bottom: 1rem;
            text-shadow: 0 0 10px var(--yellow-glow);
        }

        .fanta-podio {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .fanta-podio-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: rgba(255, 255, 255, 0.08);
            padding: 0.8rem 1.2rem;
            border-radius: 12px;
            border: 1px solid rgba(255, 217, 61, 0.4);
            transition: box-shadow 0.2s ease;
        }

        .fanta-podio-item:hover {
            box-shadow: 0 0 16px var(--yellow-glow);
        }

        .fanta-podio-item .pos {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--yellow);
            min-width: 2rem;
        }

        .fanta-podio-item .nome {
            flex: 1;
            text-align: center;
        }

        .fanta-podio-item .votes {
            color: var(--pink);
            font-weight: 600;
        }

        /* Gioco della Lettera */
        .lettera-game-section {
            position: relative;
            z-index: 10;
            padding: 3rem 2rem;
            text-align: center;
        }

        .lettera-container {
            background: linear-gradient(145deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.05) 100%);
            backdrop-filter: blur(12px);
            border: 2px solid rgba(255, 217, 61, 0.5);
            border-radius: 24px;
            padding: 2rem;
            max-width: 480px;
            margin: 0 auto;
            box-shadow: 0 8px 32px var(--yellow-glow), inset 0 1px 0 rgba(255,255,255,0.1);
        }

        .lettera-title {
            color: var(--yellow);
            font-size: 1.5rem;
            margin-bottom: 1rem;
            text-shadow: 0 0 15px var(--yellow-glow);
        }

        .lettera-subtitle {
            color: var(--text-light);
            opacity: 0.9;
            font-size: 0.95rem;
            margin-bottom: 1.5rem;
        }

        .lettera-form input {
            display: block;
            width: 100%;
            padding: 0.9rem 1.2rem;
            margin-bottom: 1rem;
            font-family: 'Fredoka', sans-serif;
            font-size: 1.1rem;
            border: 2px solid rgba(255, 217, 61, 0.5);
            border-radius: 16px;
            background: rgba(255, 255, 255, 0.96);
            color: var(--dark);
            outline: none;
            transition: box-shadow 0.3s ease, border-color 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .lettera-form input:focus {
            border-color: var(--pink);
            box-shadow: 0 0 24px var(--pink-glow), 0 2px 8px rgba(0,0,0,0.1);
        }

        .lettera-illumina-btn {
            width: 100%;
            padding: 1rem 2rem;
            font-family: 'Fredoka', sans-serif;
            font-size: 1.2rem;
            font-weight: 600;
            background: linear-gradient(135deg, var(--yellow) 0%, #ffb347 100%);
            color: var(--dark);
            border: none;
            border-radius: 16px;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            margin-top: 0.5rem;
            box-shadow: 0 4px 20px var(--yellow-glow), inset 0 1px 0 rgba(255,255,255,0.3);
        }

        .lettera-illumina-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 32px var(--yellow-glow), inset 0 1px 0 rgba(255,255,255,0.4);
        }

        .lettera-result {
            margin-top: 1.5rem;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 16px;
            border: 2px dashed rgba(255, 46, 155, 0.5);
            display: none;
            animation: fadeInUp 0.5s ease forwards;
        }

        .lettera-result.visible {
            display: block;
        }

        .lettera-result-label {
            font-size: 0.9rem;
            color: var(--yellow);
            margin-bottom: 0.5rem;
        }

        .lettera-costume {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--text-light);
            line-height: 1.5;
        }

        .lettera-iniziale {
            color: var(--yellow);
            font-size: 1.8rem;
            text-shadow: 0 0 15px var(--yellow-glow);
            font-weight: 700;
        }

        /* Countdown live */
        .countdown-section {
            position: relative;
            z-index: 10;
            text-align: center;
            padding: 2rem;
        }

        .countdown-container {
            display: inline-flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1rem;
        }

        .countdown-box {
            background: linear-gradient(145deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
            backdrop-filter: blur(12px);
            border: 2px solid rgba(255, 46, 155, 0.5);
            border-radius: 16px;
            padding: 1rem 1.5rem;
            min-width: 80px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.1);
        }

        .countdown-box:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 32px var(--pink-glow), inset 0 1px 0 rgba(255,255,255,0.15);
        }

        .countdown-value {
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--yellow);
            display: block;
            text-shadow: 0 0 12px var(--yellow-glow);
        }

        .countdown-label {
            font-size: 0.8rem;
            color: var(--text-light);
            opacity: 0.9;
            text-transform: uppercase;
        }

        .countdown-intro {
            color: var(--text-light);
            opacity: 0.9;
            margin-bottom: 1rem;
            font-size: 1rem;
        }

        /* Ricorda il cibo section */
        .cibo-section {
            position: relative;
            z-index: 10;
            padding: 3rem 2rem;
            text-align: center;
        }

        .cibo-container {
            background: linear-gradient(145deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.05) 100%);
            backdrop-filter: blur(12px);
            border: 2px solid rgba(255, 217, 61, 0.5);
            border-radius: 24px;
            padding: 2rem;
            max-width: 500px;
            margin: 0 auto;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 8px 32px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.1);
        }

        .cibo-container:hover {
            transform: scale(1.02);
            box-shadow: 0 16px 48px var(--yellow-glow), inset 0 1px 0 rgba(255,255,255,0.12);
        }

         .cibo-emojis {
            font-size: 3rem;
            margin-bottom: 1rem;
            display: flex;
            justify-content: center;
            gap: 0.8rem;
            flex-wrap: wrap;
        }

        @keyframes ciboBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .cibo-title {
            color: var(--yellow);
            font-size: 1.4rem;
            margin-bottom: 0.5rem;
            animation: ciboPulse 2s ease-in-out infinite;
            text-shadow: 0 0 12px var(--yellow-glow);
        }

        @keyframes ciboPulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.85; }
        }

        .cibo-text {
            color: var(--text-light);
            font-size: 1.1rem;
            line-height: 1.6;
        }

        /* Footer */
        footer {
            position: relative;
            z-index: 10;
            text-align: center;
            padding: 3rem 2rem;
        }

        footer p {
            font-size: 1.3rem;
            color: var(--yellow);
            text-shadow: 0 0 20px var(--yellow-glow);
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { opacity: 0.9; }
            to { opacity: 1; }
        }

        /* TITOLO 3D */
        .hero {
            position: relative;
            z-index: 2;
            text-align: center;
            padding: 80px 20px 60px;
            overflow: hidden;
        }

        .main-title {
            font-family: 'Titan One', cursive;
            font-size: clamp(3.5rem, 14vw, 10rem);
            line-height: 0.9;
            color: var(--dino-yellow);
            text-shadow:
            6px 6px 0 var(--mud),
            12px 12px 0 rgba(0,0,0,0.3),
            0 0 60px rgba(245,216,0,0.4);
            animation: dino-bounce 2s ease-in-out infinite;
            position: relative;
        }

        /* Acchiappa l'emoji */
        .acchiappa-section {
            position: relative;
            z-index: 10;
            padding: 3rem 2rem;
            text-align: center;
        }

        .acchiappa-container {
            background: linear-gradient(145deg, rgba(108,43,217,0.15) 0%, rgba(255,255,255,0.06) 100%);
            backdrop-filter: blur(12px);
            border: 2px solid rgba(108, 43, 217, 0.5);
            border-radius: 24px;
            padding: 2rem;
            max-width: 520px;
            margin: 0 auto;
            box-shadow: 0 8px 32px var(--purple-glow);
        }

        .acchiappa-title {
            color: var(--yellow);
            font-size: 1.6rem;
            margin-bottom: 0.5rem;
            text-shadow: 0 0 15px var(--yellow-glow);
        }

        .acchiappa-instruction {
            color: var(--text-light);
            font-size: 0.95rem;
            opacity: 0.95;
            margin-bottom: 1rem;
        }

        .acchiappa-target {
            font-size: 3.5rem;
            margin: 1rem 0;
            animation: acchiappaPulse 1.2s ease-in-out infinite;
        }

        @keyframes acchiappaPulse {
            0%, 100% { transform: scale(1); filter: drop-shadow(0 0 20px var(--pink-glow)); }
            50% { transform: scale(1.15); filter: drop-shadow(0 0 30px var(--yellow-glow)); }
        }

        .acchiappa-stats {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 1rem;
        }

        .acchiappa-stat {
            color: var(--pink);
            font-weight: 700;
            font-size: 1.2rem;
        }

        .acchiappa-area {
            position: relative;
            height: 220px;
            background: rgba(0,0,0,0.2);
            border-radius: 16px;
            overflow: hidden;
            margin: 1rem 0;
        }

        .acchiappa-emoji {
            position: absolute;
            font-size: 2.5rem;
            cursor: pointer;
            user-select: none;
            animation: acchiappaPop 0.4s ease-out, acchiappaFloat 2s ease-in-out infinite;
            transition: transform 0.15s ease;
        }

        .acchiappa-emoji:hover {
            transform: scale(1.2);
        }

        .acchiappa-emoji.correct {
            animation: acchiappaCorrect 0.5s ease-out forwards;
        }

        .acchiappa-emoji.wrong {
            animation: acchiappaWrong 0.4s ease-out;
        }

        @keyframes acchiappaPop {
            from { transform: scale(0); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        @keyframes acchiappaFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        @keyframes acchiappaCorrect {
            from { transform: scale(1); }
            50% { transform: scale(1.4); }
            to { transform: scale(1); opacity: 0; }
        }

        @keyframes acchiappaWrong {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-8px); }
            75% { transform: translateX(8px); }
        }

        .acchiappa-btn {
            padding: 0.8rem 2rem;
            font-family: 'Fredoka', sans-serif;
            font-size: 1.1rem;
            font-weight: 600;
            background: linear-gradient(135deg, var(--pink) 0%, #e91e8f 100%);
            color: white;
            border: none;
            border-radius: 16px;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 4px 20px var(--pink-glow);
        }

        .acchiappa-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 28px var(--pink-glow);
        }

        .acchiappa-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .acchiappa-final {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 12px;
            background: rgba(255, 46, 155, 0.2);
            border: 1px solid rgba(255, 46, 155, 0.5);
            display: none;
        }

        .acchiappa-final.visible {
            display: block;
            animation: fadeInUp 0.5s ease;
        }
    </style>
</head>
<body>
    <div class="falling-emojis" id="fallingEmojis"></div>

    <header>
        <section class="hero">
            <h1 class="main-title">
            üôÖüèª‚Äç‚ôÄÔ∏è Fisco in Pausa, Costume Onüßöüèª‚Äç‚ôÄÔ∏è
            </h1>
          </section>
        <!-- <h1>üé≠ Fisco in Pausa, Costume On üéâ</h1> -->
        <section class="countdown-section">
            <p class="countdown-intro">‚è≥ Mancano...</p>
            <div class="countdown-container">
                <div class="countdown-box">
                    <span class="countdown-value" id="countdownDays">0</span>
                    <span class="countdown-label">Giorni</span>
                </div>
                <div class="countdown-box">
                    <span class="countdown-value" id="countdownHours">0</span>
                    <span class="countdown-label">Ore</span>
                </div>
                <div class="countdown-box">
                    <span class="countdown-value" id="countdownMinutes">0</span>
                    <span class="countdown-label">Minuti</span>
                </div>
                <div class="countdown-box">
                    <span class="countdown-value" id="countdownSeconds">0</span>
                    <span class="countdown-label">Secondi</span>
                </div>
            </div>
        </section>
    </header>

    <section class="cards-section">
        <div class="card">
            <div class="card-icon">üìÖ</div>
            <h3>Quando</h3>
            <p>Sabato 28 Febbraio 2026</p>
        </div>
        <div class="card">
            <div class="card-icon">üìç</div>
            <h3>Dove</h3>
            <p>Via Roccaforte 12, 10139 Torino</p>
            <p>(Campanello: Longo/Morales)</p>
        </div>
        <div class="card">
            <div class="card-icon">‚è∞</div>
            <h3>Orario</h3>
            <p>A partire dalle 20:30</p>
        </div>
        <div class="card">
            <div class="card-icon">üëî</div>
            <h3>Dress Code</h3>
            <p>Trasforma la tua iniziale in costume! üé≠‚ú®</p>
        </div>

        <div class="dress-alert">
            ü§∑‚Äç‚ôÄÔ∏è Non sai cosa mettere? Benvenuto nel club. Scorri in fondo e lascia che il tool faccia il miracolo. ‚ú® ‚ú®
        </div>
    </section>

    <section class="cibo-section">
        <div class="cibo-container">
            <h2 class="cibo-title">üç¥ Cosa portare? üç¥</h2>
            <p class="cibo-text"> Porta qualcosa da mangiare e stupisci tutti üé≠üí∞üå±üö´ (ATTENZIONE: due vegane e niente carne per la festeggiata)!</p>
        </div>
    </section>

    <section class="fanta-sanremo-section">
        <div class="fanta-container">
            <h2 class="fanta-title">üé≠ FantaCerruti üèÜ</h2>
            <form class="fanta-form" id="fantaForm">
                <input type="text" id="fantaNome" name="nome" placeholder="Il tuo nome" required>
                <input type="text" id="fantaVincitore" name="vincitore" placeholder="Chi vincer√†?" required>
                <button type="submit" class="fanta-vota-btn" id="fantaVotaBtn">Vota!</button>
            </form>
            <div id="fantaMessage"></div>
            <div class="fanta-classifica" id="fantaClassifica">
                <h3>üèÅ Classifica Top 3</h3>
                <div class="fanta-podio" id="fantaPodio">
                    <p style="color: var(--text-light); opacity: 0.8;">Nessun voto ancora. Sii il primo!</p>
                </div>
            </div>
        </div>
    </section>

    <section class="lettera-game-section">
        <div class="lettera-container">
            <h2 class="lettera-title">üî§ Gioco della Lettera</h2>
            <p class="lettera-subtitle">Non sai cosa indossare? Qui ti salviamo dal dramma del closet. üíÖüèª</p>
            <form class="lettera-form" id="letteraForm">
                <input type="text" id="letteraNome" placeholder="Il tuo nome" required maxlength="50">
                <button type="submit" class="lettera-illumina-btn" id="letteraIlluminaBtn">Illuminami!</button>
            </form>
            <div class="lettera-result" id="letteraResult">
                <p class="lettera-result-label">Il tuo costume per la serata:</p>
                <p class="lettera-costume" id="letteraCostume"></p>
            </div>
        </div>
    </section>

    <section class="acchiappa-section">
        <div class="acchiappa-container">
            <h2 class="acchiappa-title">üéØ Acchiappa l'emoji</h2>
            <p class="acchiappa-instruction">Clicca l'emoji giusta prima che scompaia!</p>
            <p class="acchiappa-target" id="acchiappaTarget">üé≠</p>
            <p class="acchiappa-instruction">Cattura questa emoji ‚Üë</p>
            <div class="acchiappa-stats">
                <span class="acchiappa-stat">Punteggio: <span id="acchiappaScore">0</span></span>
                <span class="acchiappa-stat">Tempo: <span id="acchiappaTimer">15</span>s</span>
            </div>
            <div class="acchiappa-area" id="acchiappaArea"></div>
            <button class="acchiappa-btn" id="acchiappaStartBtn">Inizia!</button>
            <div class="acchiappa-final" id="acchiappaFinal">
                <p style="color: var(--yellow); font-weight: 700;">‚è±Ô∏è Tempo scaduto!</p>
                <p style="color: var(--text-light); margin-top: 0.5rem;">Hai totalizzato <span id="acchiappaFinalScore">0</span> punti. No cap, hai fatto il tuo! üî•</p>
            </div>
        </div>
    </section>

    <footer>
        <p>Non arrivare basic, arriva iconico tesoro üíñ</p>
    </footer>

    <script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-firestore-compat.js"></script>
    <script>
        // Falling emojis
        const emojis2 = ['üé≠', 'üí∞', 'üíµ', 'üí∏', 'üé™'];
        const emojis = ['üë∏üèº', 'üßöüèª‚Äç‚ôÄÔ∏è', 'ü¶∏üèº', 'ü§¥üèª', 'üë∏üèº', 'ü¶∏üèº', 'üßôüèª‚Äç‚ôÇÔ∏è', 'üëë', 'üí©'];
        const container = document.getElementById('fallingEmojis');

        function createFallingEmoji() {
            const emoji = emojis[Math.floor(Math.random() * emojis.length)];
            const el = document.createElement('span');
            el.className = 'emoji-drop';
            el.textContent = emoji;
            el.style.left = Math.random() * 100 + '%';
            el.style.animationDuration = (Math.random() * 4 + 4) + 's';
            el.style.animationDelay = Math.random() * 2 + 's';
            container.appendChild(el);
            setTimeout(() => el.remove(), 8000);
        }

        setInterval(createFallingEmoji, 400);
        for (let i = 0; i < 10; i++) setTimeout(createFallingEmoji, i * 200);

        // FantaCerruti - Firebase Firestore
        const FORM_DATA_COLLECTION = 'formData';
        const fantaForm = document.getElementById('fantaForm');
        const fantaNome = document.getElementById('fantaNome');
        const fantaVincitore = document.getElementById('fantaVincitore');
        const fantaVotaBtn = document.getElementById('fantaVotaBtn');
        const fantaMessage = document.getElementById('fantaMessage');
        const fantaPodio = document.getElementById('fantaPodio');

        // Replace with your config from Firebase Console > Project Settings > Your apps
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "fantacerruti.firebaseapp.com",
            projectId: "fantacerruti",
            storageBucket: "fantacerruti.appspot.com",
            messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
            appId: "YOUR_APP_ID"
        };

        let db = null;
        let fantaVotesCache = [];

        try {
            firebase.initializeApp(firebaseConfig);
            db = firebase.firestore();
        } catch (err) {
            console.error('Firebase init error:', err);
        }

        function hasUserVoted(voterName) {
            return fantaVotesCache.some(v =>
                (v.nome || v.voterName || '').toLowerCase().trim() === voterName.toLowerCase().trim()
            );
        }

        function getTop3FromVotes(votes) {
            const counts = {};
            votes.forEach(v => {
                const winner = (v.vincitore || v.winner || '').trim();
                if (winner) counts[winner] = (counts[winner] || 0) + 1;
            });
            return Object.entries(counts)
                .map(([nome, count]) => ({ nome, count }))
                .sort((a, b) => b.count - a.count)
                .slice(0, 3);
        }

        function showMessage(text, isError) {
            fantaMessage.textContent = text;
            fantaMessage.className = 'fanta-message ' + (isError ? 'error' : 'success');
            fantaMessage.style.display = 'block';
            setTimeout(() => {
                fantaMessage.textContent = '';
                fantaMessage.className = '';
                fantaMessage.style.display = 'none';
            }, 4000);
        }

        function renderClassifica(votes) {
            const top3 = getTop3FromVotes(votes || fantaVotesCache);
            if (top3.length === 0) {
                fantaPodio.innerHTML = '<p style="color: var(--text-light); opacity: 0.8;">Nessun voto ancora. Sii il primo!</p>';
            } else {
                const medals = ['ü•á', 'ü•à', 'ü•â'];
                fantaPodio.innerHTML = top3.map((item, i) => `
                    <div class="fanta-podio-item">
                        <span class="pos">${medals[i]}</span>
                        <span class="nome">${item.nome}</span>
                        <span class="votes">${item.count} ${item.count === 1 ? 'voto' : 'voti'}</span>
                    </div>
                `).join('');
            }
        }

        async function loadFormData() {
            if (!db) {
                fantaPodio.innerHTML = '<p style="color: var(--pink); opacity: 0.9;">Configura Firebase per caricare i dati.</p>';
                return;
            }
            try {
                const snap = await db.collection(FORM_DATA_COLLECTION).get();
                fantaVotesCache = snap.docs.map(d => ({ id: d.id, ...d.data() }));
                renderClassifica();
            } catch (err) {
                console.error('Firestore read error:', err);
                fantaPodio.innerHTML = '<p style="color: #e74c3c;">Errore caricamento dati. Verifica le regole Firestore.</p>';
            }
        }

        fantaForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const nome = fantaNome.value.trim();
            const vincitore = fantaVincitore.value.trim();

            if (!nome || !vincitore) {
                showMessage('Compila tutti i campi!', true);
                return;
            }

            if (hasUserVoted(nome)) {
                showMessage('Hai gi√† votato! Un solo voto per persona. üé≠', true);
                return;
            }

            if (!db) {
                showMessage('Firebase non configurato. Aggiungi le credenziali.', true);
                return;
            }

            fantaVotaBtn.disabled = true;
            fantaVotaBtn.textContent = 'Invio...';

            try {
                await db.collection(FORM_DATA_COLLECTION).add({
                    nome,
                    vincitore,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                });

                fantaVotesCache.push({ nome, vincitore });
                fantaForm.querySelectorAll('input').forEach(i => i.disabled = true);
                fantaVotaBtn.textContent = 'Hai gi√† votato!';

                showMessage('Voto registrato! Grazie! üéâ', false);
                renderClassifica();
            } catch (err) {
                console.error('Firestore write error:', err);
                showMessage('Errore salvataggio. Riprova.', true);
                fantaVotaBtn.disabled = false;
                fantaVotaBtn.textContent = 'Vota!';
            }
        });

        fantaNome.addEventListener('input', () => {
            const nome = fantaNome.value.trim();
            if (nome && hasUserVoted(nome)) {
                fantaVotaBtn.disabled = true;
                fantaVotaBtn.textContent = 'Hai gi√† votato!';
            } else {
                fantaVotaBtn.disabled = false;
                fantaVotaBtn.textContent = 'Vota!';
            }
        });

        loadFormData();

        // Countdown live - 15 Marzo 2025 ore 19:30
        const partyDate = new Date('2026-02-28T20:30:00');
        const countdownDays = document.getElementById('countdownDays');
        const countdownHours = document.getElementById('countdownHours');
        const countdownMinutes = document.getElementById('countdownMinutes');
        const countdownSeconds = document.getElementById('countdownSeconds');

        function updateCountdown() {
            const now = new Date();
            const diff = partyDate - now;

            if (diff <= 0) {
                countdownDays.textContent = '0';
                countdownHours.textContent = '0';
                countdownMinutes.textContent = '0';
                countdownSeconds.textContent = '0';
                return;
            }

            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);

            countdownDays.textContent = days;
            countdownHours.textContent = hours.toString().padStart(2, '0');
            countdownMinutes.textContent = minutes.toString().padStart(2, '0');
            countdownSeconds.textContent = seconds.toString().padStart(2, '0');
        }

        updateCountdown();
        setInterval(updateCountdown, 1000);

        // Gioco della Lettera - generazione dinamica costume
        const letteraForm = document.getElementById('letteraForm');
        const letteraNome = document.getElementById('letteraNome');
        const letteraResult = document.getElementById('letteraResult');
        const letteraCostume = document.getElementById('letteraCostume');

        function generaCostumePerLettera(lettera) {
            const upper = lettera.toUpperCase();
            const accentMap = { '√Ä':'A','√à':'E','√å':'I','√í':'O','√ô':'U','√Å':'A','√â':'E','√ç':'I','√ì':'O','√ö':'U' };
            const normalized = accentMap[upper] || upper;
            const code = normalized.charCodeAt(0);
            const idx = code >= 65 && code <= 90 ? code - 65 : Math.abs(code) % 26;

            const ruoli = [
                'Arlecchino', 'Buffone', 'Clown', 'Drammaturgo', 'Eroe di scena', 'Folletto',
                'Giullare', 'Harlequin', 'Improvisatore', 'Jester', 'King della commedia',
                'Lazzarone', 'Mimo', 'Narratore', 'Oratore', 'Pagliaccio', 'Questore',
                'Re della ribalta', 'Saltimbanco', 'Traghettatore', 'Uomo di spettacolo',
                'Venditore di sogni', 'Wizard del palco', 'X-factor', 'Yoda della scena', 'Zanni'
            ];
            const fiscali = [
                "dell'Accisa", 'del Bollo', 'della Cedolare', 'della Dichiarazione',
                "dell'Evasion", 'Fiscale', 'del 730', "dell'Imposta", "dell'IRPEF",
                'delle Imposte', 'del Fisco', 'della Liquidazione', 'della Morosit√†',
                "dell'INPS", "dell'Otto per Mille", 'del Patentino', 'delle Quote',
                'della Ritenuta', 'dello Scaglione', 'del Tax', "dell'Unico",
                "dell'IVA", 'dei Conti', "dell'Esattore", 'dei Tributi', 'dello Zerbino'
            ];
            const aggettivi = [
                'Allegro', 'Bizzarro', 'Carismatico', 'Drammatico', 'Eccentrico', 'Fantasioso',
                'Grandioso', 'Hilarious', 'Ingegnoso', 'Jovial', 'Kitsch', 'Luminoso',
                'Magnifico', 'Notturno', 'Ostentato', 'Pomposo', 'Quirky', 'Risplendente',
                'Sfarzoso', 'Teatrale', 'Unico', 'Vistoso', 'Wow', 'eXtra', 'Yin', 'Zingaro'
            ];

            const ruolo = ruoli[idx % ruoli.length];
            const fiscale = fiscali[idx % fiscali.length];
            const aggettivo = aggettivi[idx % aggettivi.length];

            return `${upper} come ${aggettivo} ${ruolo} ${fiscale}`;
        }

        function evidenziaIniziale(testo, lettera) {
            const upper = lettera.toUpperCase();
            const regex = new RegExp(`(${upper})`, 'gi');
            return testo.replace(regex, '<span class="lettera-iniziale">$1</span>');
        }

        letteraForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const nome = letteraNome.value.trim();
            if (!nome) return;

            const lettera = nome[0];
            const costume = generaCostumePerLettera(lettera);
            const costumeEvidenziato = evidenziaIniziale(costume, lettera);

            letteraCostume.innerHTML = costumeEvidenziato;
            letteraResult.classList.add('visible');
        });

        // Acchiappa l'emoji
        const acchiappaEmojis = ['üé≠', 'üí∞', 'üíµ', 'üí∏', 'üé™', 'üë∏üèº', 'üßöüèª‚Äç‚ôÄÔ∏è', 'ü¶∏üèº', 'ü§¥üèª', 'üßôüèª‚Äç‚ôÇÔ∏è', 'üëë', 'üéâ', 'üéÇ', 'üé§', 'ü™ô'];
        const acchiappaArea = document.getElementById('acchiappaArea');
        const acchiappaTarget = document.getElementById('acchiappaTarget');
        const acchiappaScoreEl = document.getElementById('acchiappaScore');
        const acchiappaTimerEl = document.getElementById('acchiappaTimer');
        const acchiappaStartBtn = document.getElementById('acchiappaStartBtn');
        const acchiappaFinal = document.getElementById('acchiappaFinal');
        const acchiappaFinalScore = document.getElementById('acchiappaFinalScore');

        let acchiappaTargetEmoji = 'üé≠';
        let acchiappaScore = 0;
        let acchiappaTimeLeft = 15;
        let acchiappaActive = false;
        let acchiappaTimerInterval = null;
        let acchiappaSpawnInterval = null;

        function acchiappaPickTarget() {
            acchiappaTargetEmoji = acchiappaEmojis[Math.floor(Math.random() * acchiappaEmojis.length)];
            acchiappaTarget.textContent = acchiappaTargetEmoji;
        }

        function acchiappaGetDistractors() {
            return acchiappaEmojis.filter(e => e !== acchiappaTargetEmoji);
        }

        function acchiappaSpawnEmoji() {
            if (!acchiappaActive || !acchiappaArea) return;
            const distractors = acchiappaGetDistractors();
            const isTarget = Math.random() < 0.45;
            const emoji = isTarget ? acchiappaTargetEmoji : distractors[Math.floor(Math.random() * distractors.length)];
            const el = document.createElement('span');
            el.className = 'acchiappa-emoji';
            el.textContent = emoji;
            el.dataset.correct = isTarget ? '1' : '0';
            const x = Math.random() * (acchiappaArea.offsetWidth - 48);
            const y = Math.random() * (acchiappaArea.offsetHeight - 48);
            el.style.left = Math.max(8, x) + 'px';
            el.style.top = Math.max(8, y) + 'px';
            el.addEventListener('click', () => {
                if (!acchiappaActive) return;
                if (el.dataset.correct === '1') {
                    el.classList.add('correct');
                    acchiappaScore++;
                    acchiappaScoreEl.textContent = acchiappaScore;
                    setTimeout(() => el.remove(), 400);
                } else {
                    el.classList.add('wrong');
                    setTimeout(() => el.classList.remove('wrong'), 400);
                }
            });
            acchiappaArea.appendChild(el);
            setTimeout(() => {
                if (el.parentNode && !el.classList.contains('correct')) {
                    el.style.opacity = '0';
                    el.style.transition = 'opacity 0.3s ease';
                    setTimeout(() => el.remove(), 300);
                }
            }, 1000);
        }

        function acchiappaStart() {
            if (acchiappaActive) return;
            acchiappaActive = true;
            acchiappaScore = 0;
            acchiappaTimeLeft = 15;
            acchiappaScoreEl.textContent = '0';
            acchiappaTimerEl.textContent = '15';
            acchiappaFinal.classList.remove('visible');
            acchiappaPickTarget();
            acchiappaArea.innerHTML = '';
            acchiappaStartBtn.disabled = true;
            acchiappaTimerInterval = setInterval(() => {
                acchiappaTimeLeft--;
                acchiappaTimerEl.textContent = acchiappaTimeLeft;
                if (acchiappaTimeLeft <= 0) {
                    acchiappaEnd();
                }
            }, 800);
            acchiappaSpawnInterval = setInterval(acchiappaSpawnEmoji, 500);
            acchiappaSpawnEmoji();
        }

        function acchiappaEnd() {
            acchiappaActive = false;
            clearInterval(acchiappaTimerInterval);
            clearInterval(acchiappaSpawnInterval);
            acchiappaArea.innerHTML = '';
            acchiappaStartBtn.disabled = false;
            acchiappaStartBtn.textContent = 'Riprova!';
            acchiappaFinalScore.textContent = acchiappaScore;
            acchiappaFinal.classList.add('visible');
        }

        acchiappaStartBtn.addEventListener('click', () => {
            acchiappaStartBtn.textContent = 'Inizia!';
            acchiappaStart();
        });
    </script>
</body>
</html>
